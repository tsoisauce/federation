{
  "name": "federation",
  "version": "1.0.0",
  "description": "Federated microservice demo",
  "main": "index.js",
  "license": "MIT",
  "private": true,
  "workspaces": [
    "gateway",
    "services/*"
  ],
  "scripts": {
    "install:all": "yarn",
    "dev": "concurrently -k -n \"users,gateway\" -c \"red,blue\" \"yarn workspace users start:dev\" \"wait-on tcp:3001 && yarn workspace gateway dev\"",
    "build": "concurrently \"yarn workspace users build\" \"yarn workspace gateway build\"",
    "commit": "cz",
    "prepare": "husky install",
    "minikube:start": "minikube start --driver=docker",
    "minikube:stop": "minikube stop",
    "minikube:status": "minikube status",
    "minikube:dashboard": "minikube dashboard",
    "deploy:up": "yarn deploy:build && yarn deploy:apply",
    "deploy:down": "kubectl delete -f deploy/",
    "deploy:build": "eval $(minikube docker-env) && docker build -t users-service:latest ./services/users && docker build -t gateway-service:latest ./gateway",
    "deploy:apply": "kubectl apply -f deploy/",
    "deploy:restart": "kubectl rollout restart deployment/users-service deployment/gateway-service",
    "deploy:status": "kubectl get pods,services",
    "deploy:logs:users": "kubectl logs -f deployment/users-service",
    "deploy:logs:gateway": "kubectl logs -f deployment/gateway-service",
    "deploy:url": "minikube service gateway-service --url",
    "deploy:stop": "minikube stop"
  },
  "devDependencies": {
    "@commitlint/cli": "^20.1.0",
    "@commitlint/config-conventional": "^20.0.0",
    "commitizen": "^4.3.1",
    "concurrently": "^9.2.1",
    "cz-conventional-changelog": "^3.3.0",
    "husky": "^9.1.7",
    "wait-on": "^9.0.3"
  },
  "config": {
    "commitizen": {
      "path": "./node_modules/cz-conventional-changelog"
    }
  }
}