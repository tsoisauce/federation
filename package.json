{
  "name": "federation",
  "version": "1.0.0",
  "description": "Federated microservice demo",
  "main": "index.js",
  "license": "MIT",
  "private": true,
  "workspaces": [
    "gateway",
    "services/*",
    "clients/*"
  ],
  "scripts": {
    "install:all": "yarn",
    "start:products": "cd services/products-java && ./gradlew :api:bootRun",
    "dev": "concurrently -k -n \"users-node,products-java,gateway,client-next\" -c \"red,magenta,blue,green\" \"yarn workspace users-node start:dev\" \"yarn start:products\" \"wait-on tcp:3001 && yarn workspace gateway dev\" \"yarn workspace client-next dev\"",
    "build": "concurrently \"yarn workspace users-node build\" \"yarn workspace gateway build\" \"yarn workspace client-next build\"",
    "commit": "cz",
    "prepare": "husky install",
    "minikube:start": "minikube start --driver=docker",
    "minikube:stop": "minikube stop",
    "minikube:status": "minikube status",
    "minikube:dashboard": "minikube dashboard",
    "deploy:up": "yarn deploy:build && yarn deploy:apply",
    "deploy:down": "kubectl delete -f deploy/",
    "deploy:build": "eval $(minikube docker-env) && docker build -t users-node-service:latest ./services/users-node && docker build -t gateway-service:latest ./gateway",
    "deploy:apply": "kubectl apply -f deploy/",
    "deploy:restart": "kubectl rollout restart deployment/users-node-service deployment/gateway-service",
    "deploy:status": "kubectl get pods,services",
    "deploy:logs:users-node": "kubectl logs -f deployment/users-node-service",
    "deploy:logs:gateway": "kubectl logs -f deployment/gateway-service",
    "deploy:url": "minikube service gateway-service --url",
    "deploy:stop": "minikube stop"
  },
  "devDependencies": {
    "@commitlint/cli": "^20.1.0",
    "@commitlint/config-conventional": "^20.0.0",
    "commitizen": "^4.3.1",
    "concurrently": "^9.2.1",
    "cz-conventional-changelog": "^3.3.0",
    "husky": "^9.1.7",
    "wait-on": "^9.0.3"
  },
  "config": {
    "commitizen": {
      "path": "./node_modules/cz-conventional-changelog"
    }
  }
}